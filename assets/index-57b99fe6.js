var G=Object.defineProperty;var H=(i,t,e)=>t in i?G(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var f=(i,t,e)=>(H(i,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))o(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const s of r.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&o(s)}).observe(document,{childList:!0,subtree:!0});function e(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function o(n){if(n.ep)return;n.ep=!0;const r=e(n);fetch(n.href,r)}})();const x=""+new URL("explosion-7516296b.wav",import.meta.url).href,C="data:audio/wav;base64,UklGRiENAABXQVZFZm10IBAAAAABAAEARKwAAESsAAABAAgAZGF0Yf0MAABWX2hweYGJkZmhqauknpiRi4V/eXNuaGNdWFNaYmtze4OLk5ujq6mjnJaQioR/eXNtaGJdWFRaYmtze4OLk5uiqaqknZeRi4WAenVvamRfWVRYYGlxeYGIkJifp6umoJqUjoiDfXdybGdiXVhVW2RsdHuDi5KaoaiqpJ6Yk42Hgnx3cWxnYl1YVVxka3N7g4qRmaCnqqWfmZSOiYN+eHNuaWNeWVVZYWhweH+HjpWco6qoopyXkYyHgXx3cWxnYl1YVVtjanJ5gYiPlp2kqqeinJaRjIaBfHdybWhjXllWWmJpcXh/ho2Um6KpqaOdmJONiIN+eXRvamVgXFhXXmZtdHuCiZCXnaSqpqGclpGMh4J9eHNuaWVgXFdYX2ZudXyDiZCXnaSppqGcl5KNiIN+eXRva2ZiXVlXXWVsc3mAh46Um6GnqKOemZSPioWAe3dybmlkYFxXWWBnbnV8gomPlpyiqKeinZiTjomFgHt3cm1pZGFcWFlfZm10eoGHjpSaoKaoo5+alZCLhoJ9eHRwa2djXlpXXGNqcHd9g4qQlpyiqKeinZiTj4qFgXx4c29rZ2NfWldcY2pwdn2DiY+Vm6Gnp6KemZSQi4aCfnl1cW1oZGBdWVlgZm1zeX+Fi5GXnaOopaGcmJOOioaBfXl1cWxoZGBcWVpgZmxzeX+FipCWnKGnpqGdmZSQi4eDfnp2cm5qZmJeW1hdY2lvdXuBh42SmJ2jp6SgnJeTj4qGgn56dnJuamZiX1tZXWNpb3V7gIaMkZecoaeloZ2YlJCLh4N/e3h0cGxoZGFdWlpgZmxyeH2DiI6TmJ6jp6Sfm5eTj4uHg397d3NvbGhlYV5aW2FmbHJ3fYKIjZKXnKGmpKCcmJSQjIiEgHx5dXFuamdjYF1aXWNobnN5foOJjpOYnaKmpJ+bl5OPjIiEgH15dXJua2dkYV1aXWJobXN4fYKHjJGWm6ClpaGdmZWRjYmGgn97d3RwbWlnY2BdWl5kaW50eX6DiI2SlpugpKSgnZmVkY2KhoN/fHh1cW5raGRhXltdYmdscXZ7gIWKj5OYnaGlo5+bl5SQjImFgn97eHRxbmtoZWFeW11iZ2xxdnuAhYmOkpecoKSjoJyYlZGOioeDgH15dnNwbWpnY2BdW15jaG1yd3yAhYqOk5eboKSjn5yYlZGOi4eEgX16d3RxbmtoZWJfXF1iZ2twdXp+g4eMkJSZnaGkop6bl5SQjYqHg4B9end0cW5raGViYF1dYWZrcHR5fYGGio6Tl5ufo6OfnJmVko+LiIWCf3x5dnNwbWpoZWJfXV5iZ2twdHl9gYaKjpKWmp6io6CcmZaTj4yJhoOAfXp3dHJvbGlnZGFfXWBkaW1xdnp+goeLjpKWmp6iop+cmZaSj4yJhoOAfnt4dXNwbWpoZWNgXl5jZ2twdHh8gISIjJCUmJufoqGem5iVko+MiYaDgH17eHVzcG5raGZjYV9eYmZqb3N3e3+DhoqOkpWZnaCin5yZlpORjouIhYKAfXp4dXNwbmtpZmRhX15iZmpucnZ6foGFiY2QlJebnqGhnpuYlZKPjIqHhIF/fHp3dXJwbmtpZmRiYF9iZmpucnZ5fYGEiIyPk5aZnaChnpuZlpOQjouIhoOBfnt5d3RycG1raWdkYmBfY2dqbnJ2eX2BhIiLj5KVmJyfoZ+cmZaUkY6MiYeEgn99enh2c3FvbWtoZmRiYGBkZ2tvcnZ5fYCEh4uOkZSXm56hn5yal5SSj42KiIWDgH58end1c3FvbGpoZmRiYGFkaGxvc3Z6fYCDh4qNkJOWmZyfn5yal5WSkI2LiYaEgoB9e3l3dXNxbmxraWdlY2FiZWlsb3N2eXyAg4aJjI+SlZianZ+dmpiWk5GOjIqIhYOBf317eXd1c3FvbWtpZ2ZkYmJlaWxvcnV5fH+ChYiKjZCTlpibnp6bmZeUkpCOi4mHhYOBf317eXd1c3FvbmxqaGdlY2JlaGtvcnV4e32Ag4aJi46Rk5aZm52cmpiVk5GPjYuJh4WDgX99e3l3dnRycG9ta2poZmVjZWhrbnFzdnl8f4GEh4mMjpGTlpibnZuZl5WTkY+Ni4mHhYOBf358enh2dXNxcG5ta2poZmVkZmlsb3F0d3p8f4GEhomLjpCSlZeZm5uZl5WTkY+Ni4mHhoSCgH99e3p4dnVzcnBvbWxqaWdmZWdqbG9ydHd5fH6Bg4WIioyPkZOVl5mbmZeVk5GQjoyKiYeFg4KAfn17enh3dXRycW9ubWtqaWdmZ2lsbnFzdnh7fX+ChIaIioyPkZOVl5mamJaUk5GPjYyKiIeFhIKBf358e3l4dnVzcnFwbm1samloZ2hqbW9ydHZ4e31/gYOFh4mLjY+Rk5WXmZiWlZORkI6Mi4mIhoWDgoB/fXx7eXh3dXRzcnBvbm1samloaGpsb3FzdXd5e36AgoSFh4mLjY+Rk5SWmJeWlJKRj46Mi4mIh4WEgoGAfn18e3l4d3Z0c3JxcG9ubGtqaWlrbW9xc3V3eXt9f4GDhIaIiouNj5GSlJWXlpSTkZCPjYyKiYiGhYSCgYB/fnx7enl4d3V0c3JxcG9ubWxrampsbnBydHV3eXt9f4CChIWHiYqMjo+RkpSVlpSTkpCPjoyLioiHhoWDgoGAf359fHp5eHd2dXRzcnFwb29ubWxra21vcXN0dnh6e31/gIKDhYaIiouMjo+RkpOVlJOSkI+OjIuKiYiHhYSDgoGAf359fHt6eXh3dnV0c3JycXBvbm1tbG1vcHJ0dXd5enx9f4CCg4WGh4mKjI2Oj5GSk5SSkZCPjoyLiomIh4aFhIOCgYB/fn18e3p5eHh3dnV0c3NycXBwb25tbW5wcnN1dnh5enx9f4CBg4SFh4iJioyNjo+QkZKSkZCPjoyLiomIh4aFhISDgoGAf359fXx7enl4eHd2dXV0c3JycXBwb25ub3FydHV2eHl6fH1+gIGCg4SGh4iJiouMjY6PkJGRkI+OjYyLiomIh4aFhISDgoGAf39+fXx8e3p5eXh3d3Z1dXRzc3JycXBwb3Bxc3R1d3h5ent9fn+AgYKDhIWGh4iJiouMjY6PkJCPjo2Mi4qKiYiHhoWFhIOCgoGAf39+fX18e3t6eXl4d3d2dnV1dHNzcnJxcXBxc3R1dnd4eXp8fX5/gIGCg4SFhYaHiImKi4yNjY6Pjo6NjIuKiomIh4eGhYSEg4KCgYCAf39+fX18e3t6enl5eHh3d3Z2dXV0dHNzcnJyc3R1dnd4eXp7fH1+f4CBgYKDhIWGhoeIiYqKi4yMjY6NjIuLiomJiIeHhoWFhIODgoKBgIB/f35+fX18fHt7enp5eXh4d3d3dnZ1dXR0dHNzdHV2d3d4eXp7fH19fn+AgYGCg4SEhYaGh4iIiYqKi4uMjIuLiomJiIiHhoaFhYSEg4OCgoGBgIB/f35+fX18fHt7e3p6eXl5eHh4d3d2dnZ1dXV0dXV2d3h5eXp7e3x9fn5/gICBgoKDhISFhYaGh4iIiYmKiouKiomJiIiHh4aGhYWEhIODgoKCgYGAgH9/f35+fX19fHx8e3t7enp6eXl5eHh4eHd3d3Z2dnZ3d3h5eXp7e3x8fX5+f3+AgIGCgoODhISFhYaGhoeHiIiJiYmJiIiHh4aGhoWFhISEg4OCgoKBgYGAgIB/f39+fn59fX18fHx8e3t7enp6enl5eXl5eHh4eHd3eHh5eXp6e3t8fH19fn5/f4CAgYGCgoKDg4SEhIWFhYaGh4eHiIiHh4eGhoWFhYSEhIODg4KCgoKBgYGAgICAf39/fn5+fn59fX19fHx8fHx7e3t7e3p6enp6enl5eXl5eXp6e3t7fHx9fX1+fn9/f4CAgIGBgYKCgoODg4SEhISFhYWFhoaGhoaFhYWEhISEg4ODg4KCgoKBgYGBgICAgIB/f39/f35+fn5+fn19fX19fXx8fHx8fHx7e3t7e3t7e3p6ent7e3x8fH19fX5+fn5/f39/gICAgIGBgYGCgoKCgoODg4ODhISEhISEhISEhIODg4ODgoKCgoKBgYGBgYGAgICAgICAf39/f39/f35+fn5+fn5+fn59fX19fX19fX19fXx8fHx8fHx8fHx8fX19fX5+fn5+fn9/f39/gICAgICAgIGBgYGBgYGCgoKCgoKCgoKDg4OCgoKCgoKCgoGBgYGBgYGBgYCAgICAgICAgICAf39/f39/f39/f39/f39/fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn9/f39/f39/f39/gICAgICAgICAgICAgICAgICAgYGBgYGBgYGBgYGBgYCAgICAgICAgICAgICAgICAgICAgICAgIB/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f3+A",A="data:audio/wav;base64,UklGRlgGAABXQVZFZm10IBAAAAABAAEARKwAAESsAAABAAgAZGF0YTQGAACkoqCenJqYlpSSkI6MioiHhYOBgH58enl3dnRycW9ubGtpaGZlZGJhYF5dd6SioJ6cmpiWlZORj46MiomHhYSCgX9+fHt5eHZ1dHJxcG5tbGppaGdlZGNiYV9eeKOhoJ6cm5mXlpSTkZCOjYuKiIeFhIOBgH99fHt5eHd2dHNycXBvbWxramloZ2ZlZGNiYWBwo6Ggnp2bmpiXlZSTkZCPjYyLiYiHhoSDgoGAf358e3p5eHd2dXRzcnFwb25tbGtqamloZ2ZlZWRjYmGKoaCfnZybmpiXlpWTkpGQj46Mi4qJiIeGhYSDgoGAf359fHt6enl4d3Z1dHRzcnFwcG9ubW1sa2tqaWhoZ2ZmZWVkY4qgn56dnJuamZeWlZSTkpGQj46NjYyLiomIh4aFhYSDgoGAgH9+fX18e3p6eXh4d3Z2dXR0c3JycXFwb29ubm1tbGxramppaWhoaGdnZmZ7n56dnZybmpmYl5aVlJSTkpGQj4+OjYyMi4qJiYiHhoaFhISDgoKBgYB/f35+fXx8e3t6enl5eHd3dnZ1dXV0dHNzcnJxcXFwcG9vb25ubW1tbGxsa2trampqaWlpaG+enZycm5qZmZiXlpaVlJSTkpKRkJCPjo6NjYyLi4qKiYiIh4eGhoWFhISDg4KCgYGAgH9/f35+fX18fHx7e3p6enl5eXh4eHd3d3Z2dnV1dXR0dHNzc3NycnJycXFxcXBwcHBvb29vb25ubm5ubW1tbW1sbGxsbGyQm5uampmYmJeXlpaVlZSTk5KSkZGQkI+Pjo6OjY2MjIuLioqKiYmIiIiHh4aGhoWFhYSEhIODg4KCgoGBgYCAgH9/f39+fn59fX19fHx8fHt7e3t6enp6enl5eXl5eHh4eHh3d3d3d3d2dnZ2dnZ1dXV1dXV1dHR0dHR0dHRzc3Nzc3Nzc3NycnJycnJycnJycnFxcXFxcXFxcXFxcXFxcXBwcHB6mZiYl5eXlpaVlZWUlJOTk5KSkpGRkJCQj4+Pjo6OjY2NjIyMjIuLi4qKioqJiYmIiIiIh4eHh4aGhoaGhYWFhYSEhISEg4ODg4OCgoKCgoGBgYGBgYCAgICAgIB/f39/f39+fn5+fn5+fn19fX19fX19fXx8fHx8fHx8fHt7e3t7e3t7e3t7e3p6enp6enp6enp6enp6enl5eXl5eXl5eXl5eXl5eXl5eXl5eXh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eIKTk5OSkpKSkZGRkZCQkJCPj4+Pj46Ojo6OjY2NjY2MjIyMjIyLi4uLi4qKioqKioqJiYmJiYmIiIiIiIiIh4eHh4eHh4eGhoaGhoaGhoaFhYWFhYWFhYWEhISEhISEhISEhIODg4ODg4ODg4ODg4OCgoKCgoKCgoKCgoKCgoKBgYGBgYGBgYGBgYGBgYGBgYGAgICAgICAgICAgICAgICAgICAgICAgICAgH9/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f35+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn9/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f3+A",l=28*8,d=36*8,Z=new Audio(x),b=new Audio(C),k=new Audio(A);class S{constructor(){f(this,"tickCount",0);f(this,"player",new W);f(this,"controls",new w);f(this,"bullets",[]);f(this,"enemyBullets",[]);f(this,"enemies",[]);f(this,"enemyGenerator");f(this,"stars",[]);f(this,"particles",[]);this.enemyGenerator=E(),this.enemies.push(...this.enemyGenerator.next().value),this.enemies.push(...this.enemyGenerator.next().value);for(let t=0;t<100;t++)this.stars.push(new B)}tick(){this.tickCount++,this.tickCount%(16*8)===0&&this.enemies.push(...this.enemyGenerator.next().value),this.controls.left&&this.player.mode!=="dead"&&(this.player.x-=2,this.player.x<0&&(this.player.x=0)),this.controls.right&&this.player.mode!=="dead"&&(this.player.x+=2,this.player.x>l-16&&(this.player.x=l-16)),this.controls.fire&&this.player.mode==="alive"&&(this.bullets.push(new I(this.player.x+7,this.player.y)),b.play()),this.controls.fire=!1,this.player.tick(this.tickCount),this.enemies.forEach(t=>{t.tick(this.tickCount),t.fireCountdown===0&&this.enemyBullets.length<8&&this.enemyBullets.push(new I(t.x+3,t.y+8,2)),t.mode==="dive"&&this.player.isHit(t.x+4,t.y+4)&&this.player.kill(this.tickCount)&&this.createExplosion2(this.player.x+8,this.player.y+4)}),this.enemies=this.enemies.filter(t=>t.isLive()),this.bullets.forEach(t=>{t.tick();const e=this.enemies.find(o=>o.isHit(t.x,t.y));e&&(t.dead=!0,this.enemies=this.enemies.filter(o=>o!==e),this.createExplosion1(e.x+4,e.y+4,e.spriteX),this.player.score+=10,k.play())}),this.bullets=this.bullets.filter(t=>t.isLive()),this.enemyBullets.forEach(t=>{t.tick(),this.player.isHit(t.x,t.y)&&this.player.kill(this.tickCount)&&(t.dead=!0,this.createExplosion2(this.player.x+8,this.player.y+4))}),this.enemyBullets=this.enemyBullets.filter(t=>t.isLive()),this.particles.forEach(t=>t.tick()),this.particles=this.particles.filter(t=>!t.dead)}createExplosion1(t,e,o){for(let n=0;n<8;n++){const r=Math.PI/3*Math.random()-Math.PI/1.5,s=Math.random()/2+1;this.particles.push(new y(t+Math.random()*2,e+Math.random()*2,s*Math.cos(r),s*Math.sin(r),o))}}createExplosion2(t,e){for(let o=0;o<16;o++){const n=2*Math.PI*Math.random(),r=Math.random()/2+1;this.particles.push(new y(t+Math.random()*2,e+Math.random()*2,r*Math.cos(n),r*Math.sin(n),0))}}}class m{constructor(t=0,e=0){f(this,"x");f(this,"y");this.x=t,this.y=e}}class W extends m{constructor(){super(13*8,33*8);f(this,"lives",5);f(this,"mode","alive");f(this,"deathTickCount");f(this,"score",0)}tick(e){switch(this.mode){case"dead":this.deathTickCount+60<=e&&(this.mode="iframe"),this.lives===0&&(this.lives=5,this.score=0);break;case"iframe":this.deathTickCount+60+120<=e&&(this.mode="alive");break}}kill(e){return this.mode!=="alive"?!1:(this.mode="dead",this.lives--,this.deathTickCount=e,Z.play(),!0)}isHit(e,o){return e>=this.x&&e<this.x+16&&o>=this.y&&o<this.y+8}}class g extends m{constructor(e,o,n,r){super(d,l);f(this,"row");f(this,"column");f(this,"spriteY");f(this,"spriteX");f(this,"fireCountdown",1);f(this,"mode","waiting");f(this,"targetY");f(this,"targetX");f(this,"startY");f(this,"startX");f(this,"startTickCount");this.row=e,this.column=o,this.spriteY=n,this.spriteX=r}tick(e){const s={x:this.row%2===0?-8:l,y:32},a={x:this.row%2===0?l:0,y:0};let h;switch(this.mode!=="waiting"&&((this.fireCountdown??-1)<0&&(this.fireCountdown=Math.floor(Math.random()*60*15)+60*5),this.fireCountdown--),this.mode){case"waiting":this.calculateY(e)<184&&(this.targetY=this.calculateY(e+100+this.column*8),this.targetX=this.calculateX(e+100+this.column*8),this.startTickCount=e+this.column*8,this.mode="flyIn");break;case"flyIn":h=(e-this.startTickCount)/100,this.y=(1-h)**2*s.y+2*(1-h)*h*a.y+h**2*this.targetY,this.x=(1-h)**2*s.x+2*(1-h)*h*a.x+h**2*this.targetX,h>=1&&(this.mode="group");break;case"group":this.y=this.calculateY(e),this.x=this.calculateX(e),this.y-this.column<=8&&(this.mode="dive",this.startTickCount=e,this.startX=this.x,this.startY=this.y,this.targetX=Math.random()*l,this.targetY=d);break;case"dive":h=(e-this.startTickCount)/200,this.y=(1-h)**2*this.startY+2*(1-h)*h*s.y+h**2*this.targetY,this.x=(1-h)**2*this.startX+2*(1-h)*h*s.x+h**2*this.targetX,h>1&&(this.mode="dead");break}}isHit(e,o){return this.mode==="flyIn"?!1:e>=this.x&&e<this.x+8&&o>=this.y&&o<this.y+8}calculateY(e){const o=Math.floor(e/16);return 20*8-o+16*this.row}calculateX(e){const n=Math.floor(e/4)%64;return(n<32?n:64-n)-16+8*this.column}isLive(){return this.mode!=="dead"}}class I extends m{constructor(e,o,n=-5){super(e,o);f(this,"dead",!1);f(this,"velocity");this.velocity=n}tick(){this.y+=this.velocity}isLive(){return this.y>0&&this.y<d&&!this.dead}}class B extends m{constructor(){super(Math.floor(Math.random()*l),Math.floor(Math.random()*d));f(this,"depth");this.depth=Math.floor(Math.random()*3)}}class y extends m{constructor(e,o,n,r,s){super(e,o);f(this,"vx");f(this,"vy");f(this,"color");f(this,"dead",!1);this.vx=n,this.vy=r,this.color=s}tick(){this.x+=this.vx,this.y+=this.vy,this.dead=this.x<0||this.x>l||this.y<0||this.y>d}}class w{constructor(){f(this,"left",!1);f(this,"right",!1);f(this,"fire",!1)}}function*E(){const t=`Hi I am
*Andy ONeill*

*Space* to fire
< and > to move

I am a
software engineer

Check out my code
on *Github*

Find career info
on *LinkedIn*

I enjoy
retro gaming
mechanical keyboards
*programming*
origami

All your base 
are belong to us
`.toUpperCase().split(`
`);for(let e=0;e<t.length;e++){const o=t[e].split("*");let n=0;const r=[];for(const s of o)r.push({text:s,color:n}),n=(n+1)%2;yield u(r,e)}for(let e=t.length;;e+=2){if(e===t.length+20){yield u([{text:"ARE YOU",color:0}],e),yield u([{text:"STILL HERE",color:0}],e+1);continue}let o=[];for(let n=2;n<24;n+=4)o.push(new g(e,n,39,0)),o.push(new g(e,n+2,39,1));yield o,o=[];for(let n=3;n<24;n+=4)o.push(new g(e+1,n,39,0)),o.push(new g(e+1,n+2,39,1));yield o}}function u(i,t){const e=[],o=i.reduce((r,s)=>r+s.text.length,0);let n=Math.floor((28-o)/2);for(const r of i)for(const s of r.text){if(s===" "){n++;continue}let a=r.color,h=s.charCodeAt(0)-"A".charCodeAt(0);s==="<"&&(a=0,h=26),s===">"&&(a=1,h=26),e.push(new g(t,n,h,a)),n++}return e}const F=""+new URL("sprites-e053f7f9.png",import.meta.url).href,c=new Image;c.src=F;function R(i){const t=i.getContext("2d");return function(o){t.fillStyle="black",t.fillRect(0,0,l,d);const n=["#887722","#776611","#665500"];for(const a of o.stars)t.fillStyle=n[a.depth],t.fillRect(a.x,Math.floor((a.y+o.tickCount*(.2-.05*a.depth))%d),1,1);t.fillStyle="red";for(const a of o.bullets)t.fillRect(Math.round(a.x),Math.round(a.y),2,6);t.fillStyle="#FF9F07";for(const a of o.enemyBullets)t.fillRect(Math.round(a.x),Math.round(a.y),2,-6);for(const a of o.particles)t.fillStyle=["white","#07FFFF"][a.color],t.fillRect(Math.round(a.x)-1,Math.round(a.y)-1,2,2);for(const a of o.enemies)t.drawImage(c,a.spriteX*8,a.spriteY*8,8,8,Math.round(a.x),Math.round(a.y),8,8);(o.player.mode==="alive"||o.player.mode==="iframe"&&Math.floor(o.tickCount/4)%2===0)&&t.drawImage(c,0,37*8,16,8,Math.round(o.player.x),Math.round(o.player.y),16,8);for(let a=0;a<o.player.lives-1;a++)t.drawImage(c,0,38*8,8,8,16+a*10,35*8,8,8);Math.floor(o.tickCount/32)%2===0&&(t.drawImage(c,8,5*8,8,8,10*8-4,35*8-4,8,8),t.drawImage(c,8,17*8,8,8,11*8-4,35*8-4,8,8),t.drawImage(c,8,4*8,8,8,12*8-4,35*8-4,8,8),t.drawImage(c,8,4*8,8,8,13*8-4,35*8-4,8,8),t.drawImage(c,8,15*8,8,8,15*8-4,35*8-4,8,8),t.drawImage(c,8,11*8,8,8,16*8-4,35*8-4,8,8),t.drawImage(c,8,0*8,8,8,17*8-4,35*8-4,8,8),t.drawImage(c,8,24*8,8,8,18*8-4,35*8-4,8,8));let r=o.player.score,s=0;for(;s===0||r!==0;){const a=r%10;t.drawImage(c,8,(27+a)*8,8,8,l-24-8*s,4,8,8),r=Math.floor(r/10),s++}}}const v=`
attribute vec4 a_position;
attribute vec2 a_texcoord;

varying vec2 v_texcoord;

void main() {
  gl_Position = a_position;

  v_texcoord = a_texcoord;
}
`,K=`
precision highp float;
uniform vec2 u_resolution;
uniform float u_tickcount;

varying vec2 v_texcoord;

uniform sampler2D u_texture;

vec3 scanline(vec2 coord, vec3 screen)
{
    float intensity = 0.2 * (.75 + 0.25 * sin((coord.y + 2.0 * u_tickcount) / 30.0));
	screen.rgb -= sin(2.0 * 3.1415 * (coord.y + 0.25)) * intensity;
	return screen;
}

vec2 crt(vec2 coord, float bend)
{
	// put in symmetrical coords
	coord = (coord - 0.5) * 2.0;

	coord *= 1.1;	

	// deform coords
	coord.x *= 1.0 + pow((abs(coord.y) / bend), 2.0);
	coord.y *= 1.0 + pow((abs(coord.x) / bend), 2.0);

	// transform back to 0.0 - 1.0 space
	coord  = (coord / 2.0) + 0.5;

	return coord;
}

vec3 sampleSplit(sampler2D tex, vec2 coord)
{
    float intensity = 0.015 * (.75 + 0.25 * sin((coord.y + 2.0 * u_tickcount) / 30.0));
	vec3 frag;
	frag.r = texture2D(tex, vec2(coord.x - intensity * (coord.x - 0.5), coord.y)).r;
	frag.g = texture2D(tex, vec2(coord.x, coord.y)).g;
	frag.b = texture2D(tex, vec2(coord.x + intensity * (coord.x - 0.5), coord.y)).b;
	return frag;
}

void main() {
  vec2 uv = 0.5 * v_texcoord + 0.5;
  vec2 crtCoords = crt(uv, 3.2);

  if (crtCoords.x < 0.0 || crtCoords.x > 1.0 || crtCoords.y < 0.0 || crtCoords.y > 1.0)
		discard;

  gl_FragColor.a = 1.0;// = vec4(0.0, 0.0, 0.0, 1.0);
  gl_FragColor.rgb = sampleSplit(u_texture, crtCoords);

  vec2 screenSpace = crtCoords * ${d}.0;
  gl_FragColor.rgb = scanline(screenSpace, gl_FragColor.rgb);
}
`;function j(i,t){const e=i.getContext("webgl"),o=J(e),n=e.getAttribLocation(o,"a_position");var r=e.getAttribLocation(o,"a_texcoord");const s=e.getUniformLocation(o,"u_resolution"),a=e.getUniformLocation(o,"u_tickcount"),h=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,h),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW);const p=e.createTexture();return e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.bindTexture(e.TEXTURE_2D,p),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),function(X){e.bindTexture(e.TEXTURE_2D,p),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),O(e.canvas),e.viewport(0,0,e.canvas.width,e.canvas.height),e.useProgram(o),e.enableVertexAttribArray(n),e.bindBuffer(e.ARRAY_BUFFER,h),e.vertexAttribPointer(n,2,e.FLOAT,!1,0,0),e.uniform2f(s,e.canvas.width,e.canvas.height),e.uniform1f(a,X.tickCount),e.drawArrays(e.TRIANGLES,0,6)}}function Y(i,t,e){const o=i.createShader(e);if(i.shaderSource(o,t),i.compileShader(o),!i.getShaderParameter(o,i.COMPILE_STATUS)){const r=i.getShaderInfoLog(o);throw i.deleteShader(o),new Error("*** Error compiling shader '"+o+"':"+r+`
`+t.split(`
`).map((s,a)=>`${a+1}: ${s}`).join(`
`))}return o}function T(i,t){const e=i.createProgram();if(t.forEach(function(n){i.attachShader(e,n)}),i.linkProgram(e),!i.getProgramParameter(e,i.LINK_STATUS)){const n=i.getProgramInfoLog(e);throw i.deleteProgram(e),new Error("Error in program linking:"+n)}return e}function J(i){const t=[Y(i,v,i.VERTEX_SHADER),Y(i,K,i.FRAGMENT_SHADER)];return T(i,t)}function O(i){const t=i.clientWidth|0,e=i.clientHeight|0;return i.width!==t||i.height!==e?(i.width=t,i.height=e,!0):!1}function D(){const i=new S;document.addEventListener("keydown",s=>{switch(s.key){case"ArrowLeft":i.controls.left=!0;break;case"ArrowRight":i.controls.right=!0;break;case" ":console.log(i.tickCount),s.preventDefault(),s.repeat||(i.controls.fire=!0);break}}),document.addEventListener("keyup",s=>{switch(s.key){case"ArrowLeft":i.controls.left=!1;break;case"ArrowRight":i.controls.right=!1;break}});const t=document.getElementById("texture"),e=document.getElementById("screen"),o=R(t),n=j(e,t);setInterval(r,1e3/60);function r(){var s,a,h;i.tick(),o(i),n(i),i.tickCount===2395&&((s=document.getElementById("github"))==null||s.classList.add("show")),i.tickCount===3150&&((a=document.getElementById("linkedin"))==null||a.classList.add("show")),i.tickCount===4415&&((h=document.getElementById("scratch"))==null||h.classList.add("show"))}console.log("ðŸ‘‹ Welcome to my website! ðŸ‘‹")}D();
