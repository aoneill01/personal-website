var b=Object.defineProperty;var S=(i,t,e)=>t in i?b(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var h=(i,t,e)=>(S(i,typeof t!="symbol"?t+"":t,e),e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const f of s.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&n(f)}).observe(document,{childList:!0,subtree:!0});function e(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(o){if(o.ep)return;o.ep=!0;const s=e(o);fetch(o.href,s)}})();const W=""+new URL("explosion-7516296b.wav",import.meta.url).href,k="data:audio/wav;base64,UklGRiENAABXQVZFZm10IBAAAAABAAEARKwAAESsAAABAAgAZGF0Yf0MAABWX2hweYGJkZmhqauknpiRi4V/eXNuaGNdWFNaYmtze4OLk5ujq6mjnJaQioR/eXNtaGJdWFRaYmtze4OLk5uiqaqknZeRi4WAenVvamRfWVRYYGlxeYGIkJifp6umoJqUjoiDfXdybGdiXVhVW2RsdHuDi5KaoaiqpJ6Yk42Hgnx3cWxnYl1YVVxka3N7g4qRmaCnqqWfmZSOiYN+eHNuaWNeWVVZYWhweH+HjpWco6qoopyXkYyHgXx3cWxnYl1YVVtjanJ5gYiPlp2kqqeinJaRjIaBfHdybWhjXllWWmJpcXh/ho2Um6KpqaOdmJONiIN+eXRvamVgXFhXXmZtdHuCiZCXnaSqpqGclpGMh4J9eHNuaWVgXFdYX2ZudXyDiZCXnaSppqGcl5KNiIN+eXRva2ZiXVlXXWVsc3mAh46Um6GnqKOemZSPioWAe3dybmlkYFxXWWBnbnV8gomPlpyiqKeinZiTjomFgHt3cm1pZGFcWFlfZm10eoGHjpSaoKaoo5+alZCLhoJ9eHRwa2djXlpXXGNqcHd9g4qQlpyiqKeinZiTj4qFgXx4c29rZ2NfWldcY2pwdn2DiY+Vm6Gnp6KemZSQi4aCfnl1cW1oZGBdWVlgZm1zeX+Fi5GXnaOopaGcmJOOioaBfXl1cWxoZGBcWVpgZmxzeX+FipCWnKGnpqGdmZSQi4eDfnp2cm5qZmJeW1hdY2lvdXuBh42SmJ2jp6SgnJeTj4qGgn56dnJuamZiX1tZXWNpb3V7gIaMkZecoaeloZ2YlJCLh4N/e3h0cGxoZGFdWlpgZmxyeH2DiI6TmJ6jp6Sfm5eTj4uHg397d3NvbGhlYV5aW2FmbHJ3fYKIjZKXnKGmpKCcmJSQjIiEgHx5dXFuamdjYF1aXWNobnN5foOJjpOYnaKmpJ+bl5OPjIiEgH15dXJua2dkYV1aXWJobXN4fYKHjJGWm6ClpaGdmZWRjYmGgn97d3RwbWlnY2BdWl5kaW50eX6DiI2SlpugpKSgnZmVkY2KhoN/fHh1cW5raGRhXltdYmdscXZ7gIWKj5OYnaGlo5+bl5SQjImFgn97eHRxbmtoZWFeW11iZ2xxdnuAhYmOkpecoKSjoJyYlZGOioeDgH15dnNwbWpnY2BdW15jaG1yd3yAhYqOk5eboKSjn5yYlZGOi4eEgX16d3RxbmtoZWJfXF1iZ2twdXp+g4eMkJSZnaGkop6bl5SQjYqHg4B9end0cW5raGViYF1dYWZrcHR5fYGGio6Tl5ufo6OfnJmVko+LiIWCf3x5dnNwbWpoZWJfXV5iZ2twdHl9gYaKjpKWmp6io6CcmZaTj4yJhoOAfXp3dHJvbGlnZGFfXWBkaW1xdnp+goeLjpKWmp6iop+cmZaSj4yJhoOAfnt4dXNwbWpoZWNgXl5jZ2twdHh8gISIjJCUmJufoqGem5iVko+MiYaDgH17eHVzcG5raGZjYV9eYmZqb3N3e3+DhoqOkpWZnaCin5yZlpORjouIhYKAfXp4dXNwbmtpZmRhX15iZmpucnZ6foGFiY2QlJebnqGhnpuYlZKPjIqHhIF/fHp3dXJwbmtpZmRiYF9iZmpucnZ5fYGEiIyPk5aZnaChnpuZlpOQjouIhoOBfnt5d3RycG1raWdkYmBfY2dqbnJ2eX2BhIiLj5KVmJyfoZ+cmZaUkY6MiYeEgn99enh2c3FvbWtoZmRiYGBkZ2tvcnZ5fYCEh4uOkZSXm56hn5yal5SSj42KiIWDgH58end1c3FvbGpoZmRiYGFkaGxvc3Z6fYCDh4qNkJOWmZyfn5yal5WSkI2LiYaEgoB9e3l3dXNxbmxraWdlY2FiZWlsb3N2eXyAg4aJjI+SlZianZ+dmpiWk5GOjIqIhYOBf317eXd1c3FvbWtpZ2ZkYmJlaWxvcnV5fH+ChYiKjZCTlpibnp6bmZeUkpCOi4mHhYOBf317eXd1c3FvbmxqaGdlY2JlaGtvcnV4e32Ag4aJi46Rk5aZm52cmpiVk5GPjYuJh4WDgX99e3l3dnRycG9ta2poZmVjZWhrbnFzdnl8f4GEh4mMjpGTlpibnZuZl5WTkY+Ni4mHhYOBf358enh2dXNxcG5ta2poZmVkZmlsb3F0d3p8f4GEhomLjpCSlZeZm5uZl5WTkY+Ni4mHhoSCgH99e3p4dnVzcnBvbWxqaWdmZWdqbG9ydHd5fH6Bg4WIioyPkZOVl5mbmZeVk5GQjoyKiYeFg4KAfn17enh3dXRycW9ubWtqaWdmZ2lsbnFzdnh7fX+ChIaIioyPkZOVl5mamJaUk5GPjYyKiIeFhIKBf358e3l4dnVzcnFwbm1samloZ2hqbW9ydHZ4e31/gYOFh4mLjY+Rk5WXmZiWlZORkI6Mi4mIhoWDgoB/fXx7eXh3dXRzcnBvbm1samloaGpsb3FzdXd5e36AgoSFh4mLjY+Rk5SWmJeWlJKRj46Mi4mIh4WEgoGAfn18e3l4d3Z0c3JxcG9ubGtqaWlrbW9xc3V3eXt9f4GDhIaIiouNj5GSlJWXlpSTkZCPjYyKiYiGhYSCgYB/fnx7enl4d3V0c3JxcG9ubWxrampsbnBydHV3eXt9f4CChIWHiYqMjo+RkpSVlpSTkpCPjoyLioiHhoWDgoGAf359fHp5eHd2dXRzcnFwb29ubWxra21vcXN0dnh6e31/gIKDhYaIiouMjo+RkpOVlJOSkI+OjIuKiYiHhYSDgoGAf359fHt6eXh3dnV0c3JycXBvbm1tbG1vcHJ0dXd5enx9f4CCg4WGh4mKjI2Oj5GSk5SSkZCPjoyLiomIh4aFhIOCgYB/fn18e3p5eHh3dnV0c3NycXBwb25tbW5wcnN1dnh5enx9f4CBg4SFh4iJioyNjo+QkZKSkZCPjoyLiomIh4aFhISDgoGAf359fXx7enl4eHd2dXV0c3JycXBwb25ub3FydHV2eHl6fH1+gIGCg4SGh4iJiouMjY6PkJGRkI+OjYyLiomIh4aFhISDgoGAf39+fXx8e3p5eXh3d3Z1dXRzc3JycXBwb3Bxc3R1d3h5ent9fn+AgYKDhIWGh4iJiouMjY6PkJCPjo2Mi4qKiYiHhoWFhIOCgoGAf39+fX18e3t6eXl4d3d2dnV1dHNzcnJxcXBxc3R1dnd4eXp8fX5/gIGCg4SFhYaHiImKi4yNjY6Pjo6NjIuKiomIh4eGhYSEg4KCgYCAf39+fX18e3t6enl5eHh3d3Z2dXV0dHNzcnJyc3R1dnd4eXp7fH1+f4CBgYKDhIWGhoeIiYqKi4yMjY6NjIuLiomJiIeHhoWFhIODgoKBgIB/f35+fX18fHt7enp5eXh4d3d3dnZ1dXR0dHNzdHV2d3d4eXp7fH19fn+AgYGCg4SEhYaGh4iIiYqKi4uMjIuLiomJiIiHhoaFhYSEg4OCgoGBgIB/f35+fX18fHt7e3p6eXl5eHh4d3d2dnZ1dXV0dXV2d3h5eXp7e3x9fn5/gICBgoKDhISFhYaGh4iIiYmKiouKiomJiIiHh4aGhYWEhIODgoKCgYGAgH9/f35+fX19fHx8e3t7enp6eXl5eHh4eHd3d3Z2dnZ3d3h5eXp7e3x8fX5+f3+AgIGCgoODhISFhYaGhoeHiIiJiYmJiIiHh4aGhoWFhISEg4OCgoKBgYGAgIB/f39+fn59fX18fHx8e3t7enp6enl5eXl5eHh4eHd3eHh5eXp6e3t8fH19fn5/f4CAgYGCgoKDg4SEhIWFhYaGh4eHiIiHh4eGhoWFhYSEhIODg4KCgoKBgYGAgICAf39/fn5+fn59fX19fHx8fHx7e3t7e3p6enp6enl5eXl5eXp6e3t7fHx9fX1+fn9/f4CAgIGBgYKCgoODg4SEhISFhYWFhoaGhoaFhYWEhISEg4ODg4KCgoKBgYGBgICAgIB/f39/f35+fn5+fn19fX19fXx8fHx8fHx7e3t7e3t7e3p6ent7e3x8fH19fX5+fn5/f39/gICAgIGBgYGCgoKCgoODg4ODhISEhISEhISEhIODg4ODgoKCgoKBgYGBgYGAgICAgICAf39/f39/f35+fn5+fn5+fn59fX19fX19fX19fXx8fHx8fHx8fHx8fX19fX5+fn5+fn9/f39/gICAgICAgIGBgYGBgYGCgoKCgoKCgoKDg4OCgoKCgoKCgoGBgYGBgYGBgYCAgICAgICAgICAf39/f39/f39/f39/f39/fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn9/f39/f39/f39/gICAgICAgICAgICAgICAgICAgYGBgYGBgYGBgYGBgYCAgICAgICAgICAgICAgICAgICAgICAgIB/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f3+A",E="data:audio/wav;base64,UklGRlgGAABXQVZFZm10IBAAAAABAAEARKwAAESsAAABAAgAZGF0YTQGAACkoqCenJqYlpSSkI6MioiHhYOBgH58enl3dnRycW9ubGtpaGZlZGJhYF5dd6SioJ6cmpiWlZORj46MiomHhYSCgX9+fHt5eHZ1dHJxcG5tbGppaGdlZGNiYV9eeKOhoJ6cm5mXlpSTkZCOjYuKiIeFhIOBgH99fHt5eHd2dHNycXBvbWxramloZ2ZlZGNiYWBwo6Ggnp2bmpiXlZSTkZCPjYyLiYiHhoSDgoGAf358e3p5eHd2dXRzcnFwb25tbGtqamloZ2ZlZWRjYmGKoaCfnZybmpiXlpWTkpGQj46Mi4qJiIeGhYSDgoGAf359fHt6enl4d3Z1dHRzcnFwcG9ubW1sa2tqaWhoZ2ZmZWVkY4qgn56dnJuamZeWlZSTkpGQj46NjYyLiomIh4aFhYSDgoGAgH9+fX18e3p6eXh4d3Z2dXR0c3JycXFwb29ubm1tbGxramppaWhoaGdnZmZ7n56dnZybmpmYl5aVlJSTkpGQj4+OjYyMi4qJiYiHhoaFhISDgoKBgYB/f35+fXx8e3t6enl5eHd3dnZ1dXV0dHNzcnJxcXFwcG9vb25ubW1tbGxsa2trampqaWlpaG+enZycm5qZmZiXlpaVlJSTkpKRkJCPjo6NjYyLi4qKiYiIh4eGhoWFhISDg4KCgYGAgH9/f35+fX18fHx7e3p6enl5eXh4eHd3d3Z2dnV1dXR0dHNzc3NycnJycXFxcXBwcHBvb29vb25ubm5ubW1tbW1sbGxsbGyQm5uampmYmJeXlpaVlZSTk5KSkZGQkI+Pjo6OjY2MjIuLioqKiYmIiIiHh4aGhoWFhYSEhIODg4KCgoGBgYCAgH9/f39+fn59fX19fHx8fHt7e3t6enp6enl5eXl5eHh4eHh3d3d3d3d2dnZ2dnZ1dXV1dXV1dHR0dHR0dHRzc3Nzc3Nzc3NycnJycnJycnJycnFxcXFxcXFxcXFxcXFxcXBwcHB6mZiYl5eXlpaVlZWUlJOTk5KSkpGRkJCQj4+Pjo6OjY2NjIyMjIuLi4qKioqJiYmIiIiIh4eHh4aGhoaGhYWFhYSEhISEg4ODg4OCgoKCgoGBgYGBgYCAgICAgIB/f39/f39+fn5+fn5+fn19fX19fX19fXx8fHx8fHx8fHt7e3t7e3t7e3t7e3p6enp6enp6enp6enp6enl5eXl5eXl5eXl5eXl5eXl5eXl5eXh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eHh4eIKTk5OSkpKSkZGRkZCQkJCPj4+Pj46Ojo6OjY2NjY2MjIyMjIyLi4uLi4qKioqKioqJiYmJiYmIiIiIiIiIh4eHh4eHh4eGhoaGhoaGhoaFhYWFhYWFhYWEhISEhISEhISEhIODg4ODg4ODg4ODg4OCgoKCgoKCgoKCgoKCgoKBgYGBgYGBgYGBgYGBgYGBgYGAgICAgICAgICAgICAgICAgICAgICAgICAgH9/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f35+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn5+fn9/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f39/f3+A",l=8,A=28,B=36,d=A*l,u=B*l,w=new Audio(W),R=new Audio(k),F=new Audio(E);class v{constructor(){h(this,"tickCount",0);h(this,"player",new j);h(this,"controls",new T);h(this,"bullets",[]);h(this,"enemyBullets",[]);h(this,"enemies",[]);h(this,"enemyGenerator");h(this,"stars",[]);h(this,"particles",[]);h(this,"turbo",!1);h(this,"fireCountdown",0);this.enemyGenerator=O(),this.enemies.push(...this.enemyGenerator.next().value),this.enemies.push(...this.enemyGenerator.next().value);for(let t=0;t<100;t++)this.stars.push(new K)}tick(){this.tickCount++,this.tickCount%(16*8)===0&&this.enemies.push(...this.enemyGenerator.next().value),this.controls.left&&this.player.mode!==1&&(this.player.x-=2,this.player.x<0&&(this.player.x=0)),this.controls.right&&this.player.mode!==1&&(this.player.x+=2,this.player.x>d-16&&(this.player.x=d-16)),this.controls.fire&&this.player.mode===0&&this.fireCountdown<=0&&(this.turbo?(this.bullets.push(new y(this.player.x,this.player.y)),this.bullets.push(new y(this.player.x+13,this.player.y))):this.bullets.push(new y(this.player.x+7,this.player.y)),R.play(),this.fireCountdown=6),this.fireCountdown--,this.turbo||(this.controls.fire=!1),this.player.tick(this.tickCount),this.enemies.forEach(t=>{t.tick(this.tickCount),t.fireCountdown===0&&this.enemyBullets.length<8&&this.enemyBullets.push(new y(t.x+3,t.y+8,2)),t.mode===3&&this.player.isHit(t.x+4,t.y+4)&&this.player.kill(this.tickCount)&&this.explodePlayer(this.player.x+8,this.player.y+4)}),this.enemies=this.enemies.filter(t=>t.isLive()),this.bullets.forEach(t=>{t.tick();const e=this.enemies.find(n=>n.isHit(t.x,t.y));e&&(t.dead=!0,this.enemies=this.enemies.filter(n=>n!==e),this.explodeEnemy(e.x+4,e.y+4,e.spriteX),this.player.score+=10,F.play())}),this.bullets=this.bullets.filter(t=>t.isLive()),this.enemyBullets.forEach(t=>{t.tick(),this.player.isHit(t.x,t.y)&&this.player.kill(this.tickCount)&&(t.dead=!0,this.explodePlayer(this.player.x+8,this.player.y+4))}),this.enemyBullets=this.enemyBullets.filter(t=>t.isLive()),this.particles.forEach(t=>t.tick()),this.particles=this.particles.filter(t=>!t.dead)}explodeEnemy(t,e,n){for(let o=0;o<8;o++){const s=Math.PI/3*Math.random()-Math.PI/1.5,f=Math.random()/2+1;this.particles.push(new x(t+Math.random()*2,e+Math.random()*2,f*Math.cos(s),f*Math.sin(s),n))}}explodePlayer(t,e){for(let n=0;n<16;n++){const o=2*Math.PI*Math.random(),s=Math.random()/2+1;this.particles.push(new x(t+Math.random()*2,e+Math.random()*2,s*Math.cos(o),s*Math.sin(o),0))}}}class p{constructor(t=0,e=0,n=1,o=1){h(this,"x");h(this,"y");h(this,"width");h(this,"height");this.x=t,this.y=e,this.width=n,this.height=o}isHit(t,e){return t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height}}var Y=(i=>(i[i.Alive=0]="Alive",i[i.Dead=1]="Dead",i[i.Iframe=2]="Iframe",i))(Y||{});class j extends p{constructor(){super(13*8,33*8,16,8);h(this,"lives",5);h(this,"mode",0);h(this,"deathTickCount");h(this,"score",0)}tick(e){switch(this.mode){case 1:this.deathTickCount+60<=e&&(this.mode=2),this.lives===0&&(this.lives=5,this.score=0);break;case 2:this.deathTickCount+60+120<=e&&(this.mode=0);break}}kill(e){return this.mode!==0?!1:(this.mode=1,this.lives--,this.deathTickCount=e,w.play(),!0)}}class g extends p{constructor(e,n,o,s){super(u,d,l,l);h(this,"row");h(this,"column");h(this,"spriteY");h(this,"spriteX");h(this,"fireCountdown",1);h(this,"mode",0);h(this,"targetY");h(this,"targetX");h(this,"startY");h(this,"startX");h(this,"startTickCount");this.row=e,this.column=n,this.spriteY=o,this.spriteX=s}tick(e){const n=23*l,o=100,s=200,f={x:this.row%2===0?-l:d,y:l*4},c={x:this.row%2===0?d:0,y:0};let r;switch(this.mode!==0&&((this.fireCountdown??-1)<0&&(this.fireCountdown=Math.floor(Math.random()*60*15)+60*5),this.fireCountdown--),this.mode){case 0:this.calculateY(e)<n&&(this.targetY=this.calculateY(e+o+this.column*l),this.targetX=this.calculateX(e+o+this.column*l),this.startTickCount=e+this.column*l,this.mode=1);break;case 1:r=(e-this.startTickCount)/o,this.y=I(f.y,c.y,this.targetY,r),this.x=I(f.x,c.x,this.targetX,r),r>=1&&(this.mode=2);break;case 2:this.y=this.calculateY(e),this.x=this.calculateX(e),this.y-this.column<=l&&(this.mode=3,this.startTickCount=e,this.startX=this.x,this.startY=this.y,this.targetX=Math.random()*d,this.targetY=u);break;case 3:r=(e-this.startTickCount)/s,this.y=I(this.startY,f.y,this.targetY,r),this.x=I(this.startX,f.x,this.targetX,r),r>1&&(this.mode=4);break}}isHit(e,n){return this.mode===1?!1:super.isHit(e,n)}calculateY(e){const n=Math.floor(e/16);return 20*l-n+16*this.row}calculateX(e){const o=Math.floor(e/4)%64;return(o<32?o:64-o)-16+l*this.column}isLive(){return this.mode!==4}}class y extends p{constructor(e,n,o=-5){super(e,n);h(this,"dead",!1);h(this,"velocity");this.velocity=o}tick(){this.y+=this.velocity}isLive(){return this.y>0&&this.y<u&&!this.dead}}class K extends p{constructor(){super(Math.floor(Math.random()*d),Math.floor(Math.random()*u));h(this,"depth");this.depth=Math.floor(Math.random()*3)}}class x extends p{constructor(e,n,o,s,f){super(e,n);h(this,"vx");h(this,"vy");h(this,"color");h(this,"dead",!1);this.vx=o,this.vy=s,this.color=f}tick(){this.x+=this.vx,this.y+=this.vy,this.dead=this.x<0||this.x>d||this.y<0||this.y>u}}class T{constructor(){h(this,"left",!1);h(this,"right",!1);h(this,"fire",!1)}}function*O(){const t=`My name is
*Andy ONeill*

*Space* to fire
< and > to move

I am a
software engineer

Check out my code
on *Github*

Find career info
on *LinkedIn*

I enjoy
retro gaming
mechanical keyboards
*programming*
origami
`.toUpperCase().split(`
`);for(let e=0;e<t.length;e++){const n=t[e].split("*");let o=0;const s=[];for(const f of n)s.push({text:f,color:o}),o=(o+1)%2;yield m(s,e)}for(let e=t.length;;e+=2){if(e===t.length+4){yield m([{text:"ALL YOUR BASE",color:0}],e),yield m([{text:"ARE BELONG TO US",color:0}],e+1);continue}if(e===t.length+20){yield m([{text:"ARE YOU",color:0}],e),yield m([{text:"STILL HERE",color:0}],e+1);continue}let n=[];for(let o=2;o<24;o+=4)n.push(new g(e,o,39,0)),n.push(new g(e,o+2,39,1));yield n,n=[];for(let o=3;o<24;o+=4)n.push(new g(e+1,o,39,0)),n.push(new g(e+1,o+2,39,1));yield n}}function m(i,t){const e=[],n=i.reduce((s,f)=>s+f.text.length,0);let o=Math.floor((A-n)/2);for(const s of i)for(const f of s.text){if(f===" "){o++;continue}let c=s.color,r=f.charCodeAt(0)-"A".charCodeAt(0);f==="<"&&(c=0,r=26),f===">"&&(c=1,r=26),e.push(new g(t,o,r,c)),o++}return e}function I(i,t,e,n){return(1-n)**2*i+2*(1-n)*n*t+n**2*e}const J=""+new URL("sprites-e053f7f9.png",import.meta.url).href,C=new Image;C.src=J;const a=8;function D(i){const t=i.getContext("2d");function e(n,o,s,f){t.drawImage(C,n*a,o*a,a,a,s,f,a,a)}return function(o){t.fillStyle="black",t.fillRect(0,0,d,u);const s=["#887722","#776611","#665500"];for(const r of o.stars)t.fillStyle=s[r.depth],t.fillRect(r.x,Math.floor((r.y+o.tickCount*(.2-.05*r.depth))%u),1,1);t.fillStyle="#FF0033";for(const r of o.bullets)t.fillRect(Math.round(r.x),Math.round(r.y),2,6);t.fillStyle="#FF9F07";for(const r of o.enemyBullets)t.fillRect(Math.round(r.x),Math.round(r.y),2,-6);for(const r of o.particles)t.fillStyle=["white","#07FFFF"][r.color],t.fillRect(Math.round(r.x)-1,Math.round(r.y)-1,2,2);for(const r of o.enemies)e(r.spriteX,r.spriteY,Math.round(r.x),Math.round(r.y));(o.player.mode===Y.Alive||o.player.mode===Y.Iframe&&Math.floor(o.tickCount/4)%2===0)&&(e(0,37,Math.round(o.player.x),Math.round(o.player.y)),e(1,37,Math.round(o.player.x)+a,Math.round(o.player.y)));for(let r=0;r<4;r++)t.save(),r>=o.player.lives-1&&(t.globalAlpha=.1),e(0,38,16+r*10,35*a),t.restore();t.save(),Math.floor(o.tickCount/32)%2===0&&(t.globalAlpha=.1),e(1,5,10*a-4,35*a-4),e(1,17,11*a-4,35*a-4),e(1,4,12*a-4,35*a-4),e(1,4,13*a-4,35*a-4),e(1,15,15*a-4,35*a-4),e(1,11,16*a-4,35*a-4),e(1,0,17*a-4,35*a-4),e(1,24,18*a-4,35*a-4),t.restore();let f=o.player.score,c=0;for(;c===0||f!==0;){const r=f%10;e(1,27+r,d-24-a*c,4),f=Math.floor(f/10),c++}}}const N=`attribute vec4 a_position;
attribute vec2 a_texcoord;

varying vec2 v_texcoord;

void main() {
  gl_Position = a_position;

  v_texcoord = a_texcoord;
}
`,L=`precision highp float;

uniform vec2 u_resolution;
uniform float u_tickcount;
uniform vec2 u_dimensions;

varying vec2 v_texcoord;

uniform sampler2D u_texture;

vec3 scanline(vec2 coord, vec3 screen)
{
    float intensity = 0.4 * (.75 + 0.25 * sin((coord.y + 2.0 * u_tickcount) / 30.0)) * 
      (1.0 + 0.1 *sin(2.0 * 3.1415 * (coord.x + 0.25)));
	screen.rgb -= (0.3 + sin(2.0 * 3.1415 * (coord.y + 0.25))) * intensity;
	return screen;
}

vec2 crt(vec2 coord, float bend)
{
	// put in symmetrical coords
	coord = (coord - 0.5) * 2.0;

	coord *= 1.02;	

	// deform coords
	coord.x *= 1.0 + pow((abs(coord.y) / bend), 2.0);
	coord.y *= 1.0 + pow((abs(coord.x) / bend), 2.0);

	// transform back to 0.0 - 1.0 space
	coord  = (coord / 2.0) + 0.5;

	return coord;
}

vec3 sampleSplit(sampler2D tex, vec2 coord)
{
    float intensity = 0.012 * (.8 + 0.2 * sin((coord.y + 2.0 * u_tickcount) / 30.0));
	vec3 frag;
	frag.r = texture2D(tex, vec2(coord.x - intensity * (0.5) + intensity, coord.y)).r;
	frag.g = texture2D(tex, vec2(coord.x + intensity, coord.y)).g;
	frag.b = texture2D(tex, vec2(coord.x + intensity * (0.5) + intensity, coord.y)).b;
	return frag;
}

void main() {
  vec2 uv = 0.5 * v_texcoord + 0.5;
  vec2 crtCoords = crt(uv, 3.2);

  if (crtCoords.x < 0.0 || crtCoords.x > 1.0 || crtCoords.y < 0.0 || crtCoords.y > 1.0)
		discard;

  gl_FragColor.a = 1.0;// = vec4(0.0, 0.0, 0.0, 1.0);
  gl_FragColor.rgb = sampleSplit(u_texture, crtCoords);

  vec2 screenSpace = crtCoords * u_dimensions;
  gl_FragColor.rgb = scanline(screenSpace, gl_FragColor.rgb);
}
`;function M(i,t){const e=i.getContext("webgl"),n=_(e),o=e.getAttribLocation(n,"a_position");var s=e.getAttribLocation(n,"a_texcoord");const f=e.getUniformLocation(n,"u_resolution"),c=e.getUniformLocation(n,"u_tickcount"),r=e.getUniformLocation(n,"u_dimensions"),G=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,G),e.enableVertexAttribArray(s),e.vertexAttribPointer(s,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]),e.STATIC_DRAW);const X=e.createTexture();return e.pixelStorei(e.UNPACK_FLIP_Y_WEBGL,!0),e.bindTexture(e.TEXTURE_2D,X),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),function(Z){e.bindTexture(e.TEXTURE_2D,X),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,t),q(e.canvas),e.viewport(0,0,e.canvas.width,e.canvas.height),e.useProgram(n),e.enableVertexAttribArray(o),e.bindBuffer(e.ARRAY_BUFFER,G),e.vertexAttribPointer(o,2,e.FLOAT,!1,0,0),e.uniform2f(f,e.canvas.width,e.canvas.height),e.uniform1f(c,Z.tickCount),e.uniform2f(r,d,u),e.drawArrays(e.TRIANGLES,0,6)}}function H(i,t,e){const n=i.createShader(e);if(i.shaderSource(n,t),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS)){const s=i.getShaderInfoLog(n);throw i.deleteShader(n),new Error("*** Error compiling shader '"+n+"':"+s+`
`+t.split(`
`).map((f,c)=>`${c+1}: ${f}`).join(`
`))}return n}function V(i,t){const e=i.createProgram();if(t.forEach(function(o){i.attachShader(e,o)}),i.linkProgram(e),!i.getProgramParameter(e,i.LINK_STATUS)){const o=i.getProgramInfoLog(e);throw i.deleteProgram(e),new Error("Error in program linking:"+o)}return e}function _(i){const t=[H(i,N,i.VERTEX_SHADER),H(i,L,i.FRAGMENT_SHADER)];return V(i,t)}function q(i){const t=i.clientWidth|0,e=i.clientHeight|0;return i.width!==t||i.height!==e?(i.width=t,i.height=e,!0):!1}function P(){const i=new v;document.addEventListener("keydown",f=>{switch(f.key){case"ArrowLeft":i.controls.left=!0;break;case"ArrowRight":i.controls.right=!0;break;case" ":f.preventDefault(),f.repeat||(i.controls.fire=!0);break}}),document.addEventListener("keyup",f=>{switch(f.key){case"ArrowLeft":i.controls.left=!1;break;case"ArrowRight":i.controls.right=!1;break;case" ":i.controls.fire=!1;break}}),window.cheatMode=()=>{i.turbo=!0,console.log("IT'S DANGEROUS TO GO ALONE! TAKE THIS.")};const t=document.getElementById("texture"),e=document.getElementById("screen"),n=D(t),o=M(e,t);setInterval(s,1e3/60);function s(){var f,c,r;i.tick(),n(i),o(i),i.tickCount===2395&&((f=document.getElementById("github"))==null||f.classList.add("show")),i.tickCount===3150&&((c=document.getElementById("linkedin"))==null||c.classList.add("show")),i.tickCount===4415&&((r=document.getElementById("scratch"))==null||r.classList.add("show"))}console.log("%c👋 Welcome to my website! 👋","font-size: 20px"),console.log("%ctry running window.cheatMode()","color: grey")}P();
